<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ANSH Edit Studio — Booking System</title>
<style>
  :root{
    --bg:#1a0d00; 
    --card:#2a1200; 
    --accent:#ff8800; 
    --accent2:#ffbb55;
    --glass: rgba(255,255,255,0.05); 
    --muted: rgba(255,255,255,0.6);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box;}
  body{
    margin:0; min-height:100vh; background:#120800;
    color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  header{
    display:flex; justify-content:space-between; align-items:center; padding:20px; max-width:1200px; margin:0 auto;
  }
  .logo{display:flex;align-items:center;gap:12px;font-weight:700;font-size:20px;}
  .logo .dot{
    width:42px;height:42px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));
    display:flex;align-items:center;justify-content:center;font-weight:800;color:#120800;box-shadow:0 6px 20px rgba(255,136,0,0.2);
    transform:rotate(-8deg);
  }
  .container{max-width:1200px;margin:20px auto;padding:18px; display:grid; grid-template-columns:1fr 360px; gap:20px;}
  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px; padding:18px; box-shadow:0 6px 30px rgba(0,0,0,0.6); backdrop-filter: blur(6px);}
  h2{margin:0 0 12px 0;font-size:18px;}
  .price-card{background:var(--glass); padding:12px; border-radius:10px; position:relative; overflow:hidden; margin-bottom:10px;}
  .price-card strong{display:block;font-size:16px;}
  .price{position:absolute; right:12px; top:12px; font-weight:800; font-size:18px; color:var(--accent2);}
  .btn{cursor:pointer;padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#120800;font-weight:700;box-shadow:0 10px 20px rgba(255,136,0,0.06); transition:transform .18s ease;}
  .btn:active{transform:translateY(2px);}
  .muted{color:var(--muted); font-size:13px;}
  .subs{display:flex;flex-direction:column;gap:8px;margin-top:8px;}
  .sub-pill{display:flex;justify-content:space-between;padding:10px;border-radius:10px;background:var(--glass);}
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:50; padding:20px;}
  .modal{width:100%;max-width:720px;background:var(--card); border-radius:14px;padding:18px; box-shadow:0 14px 40px rgba(0,0,0,0.6); transform:translateY(20px); animation:pop .26s ease forwards;}
  @keyframes pop{from{opacity:0; transform:translateY(30px) scale(.98)} to{opacity:1; transform:translateY(0) scale(1)}}
  .grid2{display:grid; grid-template-columns:1fr 1fr; gap:10px;}
  label{font-size:13px; color:var(--muted); margin-bottom:6px; display:block;}
  input, select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04); background:transparent;color:inherit;}
  .small{font-size:13px;color:var(--muted);}
  .coupon{display:flex; gap:8px; margin-top:8px;}
  .final{margin-top:12px;display:flex;justify-content:space-between;align-items:center;}
  .note{font-size:13px;color:var(--muted); margin-top:8px;}
  footer{max-width:1200px;margin:20px auto;padding:18px;color:var(--muted); text-align:center;}
  .incoming{display:flex;flex-direction:column;gap:8px; margin-top:12px;}
  .incoming .item{background:var(--glass);padding:12px;border-radius:10px;}
  .pill{display:inline-block;padding:6px 8px;border-radius:8px;background:rgba(255,136,0,0.1); font-size:12px;}
  @media (max-width:980px){ .container{grid-template-columns:1fr; padding:16px} }
</style>
</head>
<body>

<header>
  <div class="logo">
    <div class="dot">A</div>
    <div>
      ANSH Edit Studio<br><span style="font-weight:500;font-size:13px;color:var(--muted)">Video · Reels · Photo edits</span>
    </div>
  </div>
  <div style="text-align:right">
    <div class="muted">Quality edits • Fast turnaround</div>
    <div style="margin-top:8px"><span class="pill" id="modeBadge">User</span></div>
  </div>
</header>

<div class="container">
  <main class="panel" id="userPanel">
    <h2>Book a Request</h2>

    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div style="flex:1;min-width:220px;">
        <label>Service</label>
        <select id="bk_service">
          <option value="photo">Photo Edit</option>
          <option value="video">Video Edit</option>
          <option value="reel">Reel Edit</option>
          <option value="subscription">Subscription</option>
        </select>
      </div>
      <div style="flex:1;min-width:220px;">
        <label>Type / Plan</label>
        <select id="bk_type">
          <option value="normal">Normal</option>
          <option value="pro">Pro</option>
        </select>
      </div>
    </div>

    <div style="margin-top:10px;">
      <label>Notes / Requirements</label>
      <textarea id="bk_notes" rows="3" placeholder="Details for the editor (links, references etc.)"></textarea>
    </div>

    <div style="margin-top:8px;" class="coupon">
      <input id="bk_coupon" placeholder="Coupon code (if any)">
      <button class="btn" onclick="applyCoupon()">Apply</button>
    </div>

    <div class="final">
      <div>
        <div class="muted">Price</div>
        <div style="font-weight:800;font-size:18px" id="bk_price">₹0</div>
      </div>
      <div style="display:flex;gap:8px">
        <button class="btn" onclick="submitBooking()">Send Request</button>
      </div>
    </div>

    <h2 style="margin-top:18px;">My Booking Requests</h2>
    <div class="incoming" id="userBookings"></div>
  </main>

  <aside class="panel" id="devPanel">
    <h2>Developer Panel</h2>
    <div style="display:flex;flex-direction:column;gap:12px;margin-top:8px">
      <h3>Manage Coupons</h3>
      <input id="newCoupon" placeholder="Coupon code">
      <input id="newDiscount" placeholder="Discount ₹" type="number" style="margin-top:6px">
      <button class="btn" onclick="addCoupon()">Add Coupon</button>
      <div class="incoming" id="couponList"></div>

      <h3 style="margin-top:12px;">All User Requests</h3>
      <div class="incoming" id="incomingList"></div>
    </div>
  </aside>
</div>

<footer>
  © ANSH Edit Studio — All booking requests managed locally.
</footer>

<script>
const modeKey = 'ansh_mode';
const DEV_CODE = 'FXANSHPRO';
const NORMAL_CODE = 'FXANSH';
let currentBooking = {service:'photo', type:'normal', price:0, couponApplied:null};
let coupons = JSON.parse(localStorage.getItem('ansh_coupons')||'[]');
let mode = localStorage.getItem(modeKey) || 'user';
document.getElementById('modeBadge').textContent = mode==='dev'?'Developer':'User';
document.getElementById('devPanel').style.display = mode==='dev'?'block':'none';
document.getElementById('userPanel').style.display = mode==='dev'?'none':'block';

/* Prices */
const prices = {
  photo:{normal:90, pro:120},
  video:{normal:140, pro:160},
  reel:{normal:150, pro:200},
  subscription:{'1month':1000,'5month':5000,'1year':10000,'1week':250}
};

/* Initialize type options */
document.getElementById('bk_service').addEventListener('change', e=>{
  const t = document.getElementById('bk_type');
  if(e.target.value==='subscription'){
    t.innerHTML='<option value="1month">1 Month</option><option value="5month">5 Month</option><option value="1year">1 Year</option><option value="1week">1 Week</option>';
  } else {
    t.innerHTML='<option value="normal">Normal</option><option value="pro">Pro</option>';
  }
  calcPrice();
});
document.getElementById('bk_type').addEventListener('change',calcPrice);

/* Price calc */
function calcPrice(){
  const s=document.getElementById('bk_service').value;
  const t=document.getElementById('bk_type').value;
  let p=0;
  if(s==='photo'||s==='video'||s==='reel') p=prices[s][t]||0;
  else p=prices.subscription[t]||0;
  if(currentBooking.couponApplied){
    p=Math.max(0,p-currentBooking.couponApplied);
  }
  currentBooking.service=s; currentBooking.type=t; currentBooking.price=p;
  document.getElementById('bk_price').textContent='₹'+p;
}

/* Coupon apply */
function applyCoupon(){
  const code=(document.getElementById('bk_coupon').value||'').trim();
  const c=coupons.find(x=>x.code.toUpperCase()===code.toUpperCase());
  if(!c){ alert('Invalid coupon'); return; }
  currentBooking.couponApplied=c.discount;
  calcPrice();
  alert('Coupon applied ₹'+c.discount);
}

/* Submit booking */
function submitBooking(){
  const notes=document.getElementById('bk_notes').value||'';
  const s=currentBooking.service;
  const t=currentBooking.type;
  const price=currentBooking.price;
  const coupon=currentBooking.couponApplied||null;
  const arr=JSON.parse(localStorage.getItem('ansh_bookings')||'[]');
  const id='BK'+Date.now();
  arr.push({id,service:s,type:t,notes,price,coupon,status:'Pending',user:true});
  localStorage.setItem('ansh_bookings',JSON.stringify(arr));
  document.getElementById('bk_notes').value='';
  document.getElementById('bk_coupon').value='';
  currentBooking.couponApplied=null;
  calcPrice();
  renderBookings();
}

/* Render user bookings */
function renderBookings(){
  const all=JSON.parse(localStorage.getItem('ansh_bookings')||'[]');
  const userList=document.getElementById('userBookings');
  userList.innerHTML='';
  all.filter(b=>b.user).forEach(b=>{
    const div=document.createElement('div');
    div.className='item';
    div.innerHTML=`<strong>${b.service} - ${b.type}</strong><div class="muted">Status: ${b.status}</div><div>Price: ₹${b.price}${b.coupon?' (Coupon applied)':''}</div><div class="muted">${b.notes}</div>`;
    userList.appendChild(div);
  });
}

/* Developer render bookings */
function renderIncoming(){
  const all=JSON.parse(localStorage.getItem('ansh_bookings')||'[]');
  const list=document.getElementById('incomingList');
  list.innerHTML='';
  all.filter(b=>b.user).forEach(b=>{
    const div=document.createElement('div'); div.className='item';
    div.innerHTML=`<div><strong>${b.service} - ${b.type}</strong> | ₹${b.price}${b.coupon?' (Coupon applied)':''} | Status: ${b.status}</div>
    <div class="muted">${b.notes}</div>
    <div style="margin-top:6px;display:flex;gap:6px">
      <button class="btn" onclick='approveBooking("${b.id}")'>Approve</button>
      <button class="btn" style="background:transparent;color:var(--accent);border:1px solid rgba(255,136,0,0.3)" onclick='rejectBooking("${b.id}")'>Reject</button>
    </div>`;
    list.appendChild(div);
  });
}

/* Approve / Reject */
function approveBooking(id){
  const arr=JSON.parse(localStorage.getItem('ansh_bookings')||'[]');
  const b=arr.find(x=>x.id===id);
  if(b){ b.status='Approved'; localStorage.setItem('ansh_bookings',JSON.stringify(arr)); renderIncoming(); renderBookings(); }
}
function rejectBooking(id){
  const arr=JSON.parse(localStorage.getItem('ansh_bookings')||'[]');
  const b=arr.find(x=>x.id===id);
  if(b){ b.status='Rejected'; localStorage.setItem('ansh_bookings',JSON.stringify(arr)); renderIncoming(); renderBookings(); }
}

/* Coupons */
function renderCoupons(){
  const list=document.getElementById('couponList');
  list.innerHTML='';
  coupons.forEach((c,i)=>{
    const div=document.createElement('div'); div.className='item';
    div.innerHTML=`${c.code} - ₹${c.discount} <button class="btn" style="background:transparent;color:var(--accent);border:1px solid rgba(255,136,0,0.3)" onclick='deleteCoupon(${i})'>Delete</button>`;
    list.appendChild(div);
  });
}
function addCoupon(){
  const code=document.getElementById('newCoupon').value.trim();
  const discount=parseInt(document.getElementById('newDiscount').value);
  if(!code||!discount){ alert('Enter code and discount'); return; }
  coupons.push({code,discount});
  localStorage.setItem('ansh_coupons',JSON.stringify(coupons));
  document.getElementById('newCoupon').value='';
  document.getElementById('newDiscount').value='';
  renderCoupons();
}
function deleteCoupon(i){ coupons.splice(i,1); localStorage.setItem('ansh_coupons',JSON.stringify(coupons)); renderCoupons(); }

/* Initial render */
renderBookings();
renderIncoming();
renderCoupons();
</script>
</body>
</html>
